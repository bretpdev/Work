--SELECT * FROM CDW..FormatTranslation Where FmtName = '$FATRAN'

SELECT DISTINCT PC_FAT_TYP + PC_FAT_SUB_TYP FROM CDW..LNXX_FIN_ATY ORDER BY PC_FAT_TYP + PC_FAT_SUB_TYP

SELECT 
	* 
FROM OPENQUERY
(
	LEGEND,
	'SELECT 
		TRIM(FAT.PX_ATR_VAL) || TRIM(SUB.PX_ATR_VAL) AS VALUE, 
		TRIM(FAT.PX_DSC_MDM) || '' - '' || TRIM(SUB.PX_DSC_MDM) AS Label 
	FROM 
		PKUB.LKXX_LS_CDE_LKP FAT 
		INNER JOIN PKUB.LKXX_LS_CDE_LKP SUB ON X = X 
	WHERE 
		FAT.PM_ATR IN(''PC-FAT-TYP'') 
		AND SUB.PM_ATR IN (''PC-FAT-SUB-TYP'') 
	ORDER BY 
		FAT.PX_ATR_VAL, 
		SUB.PX_ATR_VAL
	'
) OQ LEFT JOIN CDW..FormatTranslation FMT
	ON FMT.Start = OQ.VALUE
	AND FMT.FmtName = '$FATRAN'
WHERE
	/*lnXX had these before*/
	OQ.VALUE IN ('XXXX','XXXX','XXXX','XXXX','XXXX','XXXX','XXXX','XXXX','XXXX','XXXX','XXXX','XXXX','XXXX','XXXX','XXXX','XXXX','XXXX','XXXX','XXXX','XXXX','XXXX','XXXX','XXAX','XXAX','XXXX','XXXX','XXXX','XXXX','XXXX','XXXX','XXXX','XXXX','XXXX','XXXX','XXXX','XXXX')
	AND FMT.Label IS NULL
