USE ULS
GO

BEGIN TRANSACTION
	DECLARE @ERROR INT = 0
	DECLARE @ROWCOUNT INT = 0
	DECLARE @ExpectedRowCount INT = 130

INSERT INTO ULS.dasforbfed.Disasters(DisasterId, Disaster, BeginDate, EndDate, [Days], MaxEndDate, MaxDays, Active, AddedAt, AddedBy)
VALUES(23,'Nebraska Severe Winter Storm -DR4420','2019-03-21','2019-06-18',90,'2019-06-18',90,1,GETDATE(),'UNH 60842')

SELECT @ROWCOUNT = @@ROWCOUNT, @ERROR = @@ERROR --1 rows

INSERT INTO ULS.dasforbfed.Zips(ZipCode, DisasterId)
VALUES('68626',23),('68632',23),('68624',23),('68001',23),('68014',23),('68036',23),('68669',23),('68658',23),('68635',23),('68667',23),('68307',23),('68304',23),('68455',23),('68058',23),('68413',23),('68349',23),('68016',23),('68407',23),('68048',23),('68409',23),('68463',23),('68403',23),('68037',23),('68366',23),('68347',23),('68661',23),('68629',23),('68641',23),('68659',23),('68643',23),('68044',23),('68025',23),('68621',23),('68057',23),('68633',23),('68072',23),('68063',23),('68664',23),('68026',23),('68649',23),('68031',23),('68164',23),('68172',23),('68175',23),('68154',23),('68106',23),('68107',23),('68105',23),('68103',23),('68104',23),('68108',23),('68112',23),('68114',23),('68111',23),('68109',23),('68110',23),('68182',23),('68007',23),('68183',23),('68198',23),('68197',23),('68010',23),('68101',23),('68102',23),('68069',23),('68022',23),('68064',23),('68180',23),('68142',23),('68139',23),('68135',23),('68137',23),('68144',23),('68152',23),('68176',23),('68145',23),('68179',23),('68178',23),('68119',23),('68122',23),('68118',23),('68116',23),('68117',23),('68124',23),('68132',23),('68134',23),('68131',23),('68127',23),('68130',23),('68305',23),('68321',23),('68379',23),('68320',23),('68414',23),('68421',23),('68378',23),('68138',23),('68136',23),('68147',23),('68005',23),('68157',23),('68133',23),('68059',23),('68056',23),('68113',23),('68123',23),('68128',23),('68028',23),('68046',23),('68018',23),('68042',23),('68033',23),('68648',23),('68041',23),('68040',23),('68070',23),('68066',23),('68073',23),('68003',23),('68017',23),('68050',23),('68065',23),('68015',23),('68029',23),('68068',23),('68034',23),('68023',23),('68002',23),('68008',23)

SELECT @ROWCOUNT = @ROWCOUNT + @@ROWCOUNT, @ERROR = @ERROR + @@ERROR --129 rows

IF @ROWCOUNT = @ExpectedRowCount AND @ERROR = 0
	BEGIN
		PRINT 'Transaction committed'
		COMMIT TRANSACTION
		--ROLLBACK TRANSACTION
	END
ELSE
	BEGIN
		PRINT 'ROWCOUNT:  ' + CAST(@ROWCOUNT as VARCHAR(10))
		PRINT 'ERROR:  ' + CAST(@ERROR as VARCHAR(10))
		PRINT '!!!  Transaction NOT committed.  Contact a member of Application Development to have this error corrected.'
		ROLLBACK TRANSACTION
	END