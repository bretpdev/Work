1                                                          The SAS System                         15:00 Wednesday, November 18, 2015

NOTE: Unable to open SASUSER.REGSTRY. WORK.REGSTRY will be opened instead.
NOTE: All registry changes will be lost at the end of the session.

WARNING: Unable to copy SASUSER registry to WORK registry. Because of this, you will not see registry customizations during this 
         session.
NOTE: Unable to open SASUSER.PROFILE. WORK.PROFILE will be opened instead.
NOTE: All profile changes will be lost at the end of the session.
NOTE: Copyright (c) 2002-2012 by SAS Institute Inc., Cary, NC, USA. 
NOTE: SAS (r) Proprietary Software 9.4 (TS1M1) 
      Licensed to UNIVERSITY OF UTAH - ADMIN, Site 70162560.
NOTE: This session is executing on the W32_7PRO  platform.



NOTE: Updated analytical products:
      
      SAS/STAT 13.1
      SAS/ETS 13.1
      SAS/OR 13.1
      SAS/IML 13.1
      SAS/QC 13.1

NOTE: Additional host information:

 W32_7PRO WIN 6.1.7601 Service Pack 1 Workstation

NOTE: SAS initialization used:
      real time           0.89 seconds
      cpu time            0.18 seconds
      
1          %LET MAXRNO = 42;
2          
3          /*TEST*/
4          /*%LET TESTMSG = - THIS IS A TEST;*/
5          /*%LET RPTLIB = Y:\Batch\FTP;*/
6          /*%LET LOGLIB = Y:\Batch\Logs;*/
7          /*%LET CODELIB = Y:\Codebase\SAS\CDW;*/
8          /*%LET ODBCFILE = BSYS_TEST;*/
9          /*%LET DB = CDW_test;*/
10         /*%LET ODBCFILE_CSYS = CSYSTest;*/
11         
12         /*LIVE*/
13         %LET TESTMSG = - THIS IS LIVE;
14         %LET RPTLIB = Z:\Batch\FTP;
15         %LET LOGLIB = Z:\Batch\Logs;
16         %LET CODELIB = Z:\Codebase\SAS\CDW;
17         %LET ODBCFILE = BSYS;
18         %LET DB = CDW;
19         %LET ODBCFILE_CSYS = CSYS;
20         
21         
22         /*	Gather the email addresses for error reports*/
23         PROC SQL NOPRINT;
2                                         The SAS System        15:00 Wednesday, November 18, 2015

24         	CONNECT TO ODBC AS BSYS (REQUIRED="FILEDSN=X:\PADR\ODBC\&ODBCFILE..dsn;");

25         	CREATE TABLE TEST AS
26         		SELECT
27         			*
28         		FROM
29         			CONNECTION TO BSYS
30         				(
31         					SELECT
32         						A.WINUNAME
33         						,A.TYPEKEY AS TYPE
34         					FROM
35         						GENR_REF_MISCEMAILNOTIF A
36         					WHERE
37         						A.TYPEKEY IN ('SAS Error')
38         					ORDER BY
39         						WINUNAME
40         				)
41         	;
NOTE: Table WORK.TEST created, with 3 rows and 2 columns.

42         	DISCONNECT FROM BSYS;
43         
44         	SELECT
45         		TRIM(WINUNAME) || '@UTAHSBR.EDU' INTO :ERR SEPARATED BY '" "'
46         	FROM
47         		TEST
48         	WHERE
49         		TYPE = 'SAS Error'
50         	;
51         QUIT;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.07 seconds
      cpu time            0.04 seconds
      

52         
53         PROC SQL NOPRINT;
54         	CONNECT TO ODBC AS CSYS (REQUIRED="FILEDSN=X:\PADR\ODBC\&ODBCFILE_CSYS..dsn;");

55         	CREATE TABLE SAS_Path AS
56         		SELECT
57         			*
58         		FROM
59         			CONNECTION TO CSYS
60         				(
61         					SELECT
62         						path
63         					FROM
64         						GENR_DAT_EnterpriseFileSystem
65         					WHERE
66         						[KEY] = 'SAS'
67         				)
3                                         The SAS System        15:00 Wednesday, November 18, 2015

68         	;
NOTE: Table WORK.SAS_PATH created, with 1 rows and 1 columns.

69         	DISCONNECT FROM CSYS;
70         /*UNCOMMENT FOR LIVE*/
71         /*	SELECT */
72         /*		path  INTO :SASEXE */
73         /*	FROM*/
74         /*		SAS_Path*/
75         /*	;*/
76         
77         	select
78         		'C:\Program Files\SASHome2\x86\SASFoundation\9.4\sas.exe' INTO :SASEXE
79         	FROM
80         		SAS_Path
81         
82         	;
83         QUIT;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      

84         
85         %PUT &SASEXE;
C:\Program Files\SASHome2\x86\SASFoundation\9.4\sas.exe
86         
87         %PUT &ERR;
NOTE: Line generated by the macro variable "ERR".
87          ebarnes@UTAHSBR.EDU" "sbriggs@UTAHSBR.EDU" "sshelp@UTAHSBR.EDU
                               ___                   ___
                               49                    49
ebarnes@UTAHSBR.EDU" "sbriggs@UTAHSBR.EDU" "sshelp@UTAHSBR.EDU
NOTE 49-169: The meaning of an identifier after a quoted string might change in a future SAS 
             release.  Inserting white space between a quoted string and the succeeding 
             identifier is recommended.

88         
89         FILENAME ERRMESS EMAIL TO=("&ERR") ;
90         
91         DATA _NULL_;
92         	CALL SYMPUT('START',PUT(TIME(),TIME9.));
93         	CALL SYMPUT('DAY_OF_YEAR',CATT('',"#",(TODAY() - INTNX('YEAR',TODAY(),-1,'E')),"*"));
94         RUN;

NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

95         
96         %LET R=0;
97         %MACRO FILECHECK;
4                                         The SAS System        15:00 Wednesday, November 18, 2015

98         %DO I = 2 %TO &MAXRNO;
99         	FILENAME REPORT&I "&RPTLIB/UNWDW1.NWDW1R&I..*";
100        	%IF %SYSFUNC(FEXIST(REPORT&I)) = 0 %THEN
101        		%DO;
102        			%PUT "File &I was missing";
103        			%LET R = %EVAL(&R+1);
104        			%IF &R = 1 %THEN %LET K = &I;
105        			%ELSE %LET K = &K.,&I;
106        		%END;
107        %END;
108        	%IF &R > 0 %THEN %DO;
109        		DATA _NULL_;
110        		FILE ERRMESS SUBJECT="CDW Error - Missing Files&TESTMSG";
111        			PUT "The CDW Update Process was Aborted!";
112        			PUT "&R file(s) were missing:";
113        			PUT "The missing file(s) are: &K";
114        		RUN;
115        		ENDSAS;
116        	%END;
117        	%ELSE %DO;
118        		DATA _NULL_;
119        		FILE ERRMESS subject="CDW Update Commencing&TESTMSG";
120        			PUT "The Cornerstone Data Warehouse Update Process Began Without Errors!";
121        			PUT "If Errors are found within individual files, a subsequent email will be sent.";
122        			PUT "START =         &START ";
123        		RUN;
124        	%END;
125        %MEND;
126        %FILECHECK;

NOTE: The file ERRMESS is:
      E-Mail Access Device

Message sent
      To:          "ebarnes@UTAHSBR.EDU" "sbriggs@UTAHSBR.EDU" "sshelp@UTAHSBR.EDU"
      Cc:          
      Bcc:         
      Subject:     CDW Update Commencing- THIS IS LIVE
      Attachments: 
NOTE: 3 records were written to the file ERRMESS.
      The minimum record length was 26.
      The maximum record length was 77.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

127        
128        OPTIONS NOXWAIT XSYNC;
129        
130        X """&SASEXE"" -icon
131        	-SYSIN ""&CODELIB\UTNWDW1.Endorser.sas""
132        	-LOG ""&LOGLIB\CDW.Endorser.LOG""
5                                         The SAS System        15:00 Wednesday, November 18, 2015

133        	-SYSPARM ""&TESTMSG|&RPTLIB|&CODELIB|&ODBCFILE|&DB"""; *2;
134        X """&SASEXE"" -icon
135        	-SYSIN ""&CODELIB\UTNWDW1.Reference.sas""
136        	-LOG ""&LOGLIB\CDW.Reference.LOG""
137        	-SYSPARM ""&TESTMSG|&RPTLIB|&CODELIB|&ODBCFILE|&DB"""; *3;
138        X """&SASEXE"" -icon
139        	-SYSIN ""&CODELIB\UTNWDW1.Bill.sas""
140        	-LOG ""&LOGLIB\CDW.Bill.LOG""
141        	-SYSPARM ""&TESTMSG|&RPTLIB|&CODELIB|&ODBCFILE|&DB"""; *4;
142        X """&SASEXE"" -icon
143        	-SYSIN ""&CODELIB\UTNWDW1.Financialtran.sas""
144        	-LOG ""&LOGLIB\CDW.Financialtran.LOG""
145        	-SYSPARM ""&TESTMSG|&RPTLIB|&CODELIB|&ODBCFILE|&DB"""; *5;
146        X """&SASEXE"" -icon
147        	-SYSIN ""&CODELIB\UTNWDW1.Deferment.sas""
148        	-LOG ""&LOGLIB\CDW.Deferment.LOG""
149        	-SYSPARM ""&TESTMSG|&RPTLIB|&CODELIB|&ODBCFILE|&DB"""; *6;
150        X """&SASEXE"" -icon
151        	-SYSIN ""&CODELIB\UTNWDW1.Forbearance.sas""
152        	-LOG ""&LOGLIB\CDW.Forbearance.LOG""
153        	-SYSPARM ""&TESTMSG|&RPTLIB|&CODELIB|&ODBCFILE|&DB"""; *7;
154        X """&SASEXE"" -icon
155        	-SYSIN ""&CODELIB\UTNWDW1.Borrower.sas""
156        	-LOG ""&LOGLIB\CDW.Borrower.LOG""
157        	-SYSPARM ""&TESTMSG|&RPTLIB|&CODELIB|&ODBCFILE|&DB"""; *8;
158        X """&SASEXE"" -icon
159        	-SYSIN ""&CODELIB\UTNWDW1.DL200_Letters.sas""
160        	-LOG ""&LOGLIB\CDW.DL200_Letters.LOG""
161        	-SYSPARM ""&TESTMSG|&RPTLIB|&CODELIB|&ODBCFILE|&DB"""; *9;
162        X """&SASEXE"" -icon
163        	-SYSIN ""&CODELIB\UTNWDW1.Waived_Fees.sas""
164        	-LOG ""&LOGLIB\CDW.Waived_Fees.LOG""
165        	-SYSPARM ""&TESTMSG|&RPTLIB|&CODELIB|&ODBCFILE|&DB"""; *10;
166        X """&SASEXE"" -icon
167        	-SYSIN ""&CODELIB\UTNWDW1.Loan.sas""
168        	-LOG ""&LOGLIB\CDW.Loan.LOG""
169        	-SYSPARM ""&TESTMSG|&RPTLIB|&CODELIB|&ODBCFILE|&DB"""; *11;
170        X """&SASEXE"" -icon
171        	-SYSIN ""&CODELIB\UTNWDW1.EFT.sas""
172        	-LOG ""&LOGLIB\CDW.EFT.LOG""
173        	-SYSPARM ""&TESTMSG|&RPTLIB|&CODELIB|&ODBCFILE|&DB"""; *12;
174        X """&SASEXE"" -icon
175        	-SYSIN ""&CODELIB\UTNWDW1.Rehabilitation.sas""
176        	-LOG ""&LOGLIB\CDW.Rehabilitation.LOG""
177        	-SYSPARM ""&TESTMSG|&RPTLIB|&CODELIB|&ODBCFILE|&DB"""; *13;
178        X """&SASEXE"" -icon
179        	-SYSIN ""&CODELIB\UTNWDW1.Disbursement.sas""
180        	-LOG ""&LOGLIB\CDW.Disbursement.LOG""
181        	-SYSPARM ""&TESTMSG|&RPTLIB|&CODELIB|&ODBCFILE|&DB"""; *14;
182        X """&SASEXE"" -icon
183        	-SYSIN ""&CODELIB\UTNWDW1.Borrower_Benefit.sas""
184        	-LOG ""&LOGLIB\CDW.Borrower_Benefit.LOG""
185        	-SYSPARM ""&TESTMSG|&RPTLIB|&CODELIB|&ODBCFILE|&DB"""; *15;
6                                         The SAS System        15:00 Wednesday, November 18, 2015

186        X """&SASEXE"" -icon
187        	-SYSIN ""&CODELIB\UTNWDW1.Arc_Indicators.sas""
188        	-LOG ""&LOGLIB\CDW.Arc_Indicators.LOG""
189        	-SYSPARM ""&TESTMSG|&RPTLIB|&CODELIB|&ODBCFILE|&DB"""; *16;
190        X """&SASEXE"" -icon
191        	-SYSIN ""&CODELIB\UTNWDW1.RPS.sas""
192        	-LOG ""&LOGLIB\CDW.RPS.LOG""
193        	-SYSPARM ""&TESTMSG|&RPTLIB|&CODELIB|&ODBCFILE|&DB"""; *17;
194        X """&SASEXE"" -icon
195        	-SYSIN ""&CODELIB\UTNWDW1.Int_Rate.sas""
196        	-LOG ""&LOGLIB\CDW.Int_Rate.LOG""
197        	-SYSPARM ""&TESTMSG|&RPTLIB|&CODELIB|&ODBCFILE|&DB"""; *18;
198        X """&SASEXE"" -icon
199        	-SYSIN ""&CODELIB\UTNWDW1.School.sas""
200        	-LOG ""&LOGLIB\CDW.School.LOG""
201        	-SYSPARM ""&TESTMSG|&RPTLIB|&CODELIB|&ODBCFILE|&DB"""; *19;
202        X """&SASEXE"" -icon
203        	-SYSIN ""&CODELIB\UTNWDW1.Delinquency.sas""
204        	-LOG ""&LOGLIB\CDW.Delinquency.LOG""
205        	-SYSPARM ""&TESTMSG|&RPTLIB|&CODELIB|&ODBCFILE|&DB"""; *20;
206        X """&SASEXE"" -icon
207        	-SYSIN ""&CODELIB\UTNWDW1.K0PHN.sas""
208        	-LOG ""&LOGLIB\CDW.K0PHN.LOG""
209        	-SYSPARM ""&TESTMSG|&RPTLIB|&CODELIB|&ODBCFILE|&DB"""; *21;
210        X """&SASEXE"" -icon
211        	-SYSIN ""&CODELIB\UTNWDW1.Autopay.sas""
212        	-LOG ""&LOGLIB\CDW.Autopay.LOG""
213        	-SYSPARM ""&TESTMSG|&RPTLIB|&CODELIB|&ODBCFILE|&DB"""; *22;
214        X """&SASEXE"" -icon
215        	-SYSIN ""&CODELIB\UTNWDW1.Email.sas""
216        	-LOG ""&LOGLIB\CDW.Email.LOG""
217        	-SYSPARM ""&TESTMSG|&RPTLIB|&CODELIB|&ODBCFILE|&DB"""; *23;
218        X """&SASEXE"" -icon
219        	-SYSIN ""&CODELIB\UTNWDW1.Suspense.sas""
220        	-LOG ""&LOGLIB\CDW.Suspense.LOG""
221        	-SYSPARM ""&TESTMSG|&RPTLIB|&CODELIB|&ODBCFILE|&DB"""; *24;
222        X """&SASEXE"" -icon
223        	-SYSIN ""&CODELIB\UTNWDW1.Address.sas""
224        	-LOG ""&LOGLIB\CDW.Address.LOG""
225        	-SYSPARM ""&TESTMSG|&RPTLIB|&CODELIB|&ODBCFILE|&DB"""; *25;
226        X """&SASEXE"" -icon
227        	-SYSIN ""&CODELIB\UTNWDW1.Phone.sas""
228        	-LOG ""&LOGLIB\CDW.Phone.LOG""
229        	-SYSPARM ""&TESTMSG|&RPTLIB|&CODELIB|&ODBCFILE|&DB"""; *26;
230        X """&SASEXE"" -icon
231        	-SYSIN ""&CODELIB\UTNWDW1.K0ADD.sas""
232        	-LOG ""&LOGLIB\CDW.K0ADD.LOG""
233        	-SYSPARM ""&TESTMSG|&RPTLIB|&CODELIB|&ODBCFILE|&DB"""; *27;
234        X """&SASEXE"" -icon
235        	-SYSIN ""&CODELIB\UTNWDW1.Activity_History.sas""
236        	-LOG ""&LOGLIB\CDW.Activity_History.LOG""
237        	-SYSPARM ""&TESTMSG|&RPTLIB|&CODELIB|&ODBCFILE|&DB"""; *28;
238        X """&SASEXE"" -icon
7                                         The SAS System        15:00 Wednesday, November 18, 2015

239        	-SYSIN ""&CODELIB\UTNWDW1.Loan2.sas""
240        	-LOG ""&LOGLIB\CDW.Loan2.LOG""
241        	-SYSPARM ""&TESTMSG|&RPTLIB|&CODELIB|&ODBCFILE|&DB"""; *29;
242        X """&SASEXE"" -icon
243        	-SYSIN ""&CODELIB\UTNWDW1.Credit_Reporting.sas""
244        	-LOG ""&LOGLIB\CDW.Credit_Reporting.LOG""
245        	-SYSPARM ""&TESTMSG|&RPTLIB|&CODELIB|&ODBCFILE|&DB"""; *30;
246        X """&SASEXE"" -icon
247        	-SYSIN ""&CODELIB\UTNWDW1.Amount_Due.sas""
248        	-LOG ""&LOGLIB\CDW.Amount_Due.LOG""
249        	-SYSPARM ""&TESTMSG|&RPTLIB|&CODELIB|&ODBCFILE|&DB"""; *31;
250        X """&SASEXE"" -icon
251        	-SYSIN ""&CODELIB\UTNWDW1.M1411.sas""
252        	-LOG ""&LOGLIB\CDW.M1411.LOG""
253        	-SYSPARM ""&TESTMSG|&RPTLIB|&CODELIB|&ODBCFILE|&DB"""; *32;
254        X """&SASEXE"" -icon
255        	-SYSIN ""&CODELIB\UTNWDW1.TransactionHistory.sas""
256        	-LOG ""&LOGLIB\CDW.TransactionHistory.LOG""
257        	-SYSPARM ""&TESTMSG|&RPTLIB|&CODELIB|&ODBCFILE|&DB"""; *33;
258        X """&SASEXE"" -icon
259        	-SYSIN ""&CODELIB\UTNWDW1.LT20LetterRequests.sas""
260        	-LOG ""&LOGLIB\CDW.LT20LetterRequests.LOG""
261        	-SYSPARM ""&TESTMSG|&RPTLIB|&CODELIB|&ODBCFILE|&DB"""; *34;
262        X """&SASEXE"" -icon
263        	-SYSIN ""&CODELIB\UTNWDW1.BenefitProgramTiers.sas""
264        	-LOG ""&LOGLIB\CDW.BenefitProgramTiers.LOG""
265        	-SYSPARM ""&TESTMSG|&RPTLIB|&CODELIB|&ODBCFILE|&DB"""; *35;
266        X """&SASEXE"" -icon
267        	-SYSIN ""&CODELIB\UTNWDW1.BenefitProgram.sas""
268        	-LOG ""&LOGLIB\CDW.BenefitProgram.LOG""
269        	-SYSPARM ""&TESTMSG|&RPTLIB|&CODELIB|&ODBCFILE|&DB"""; *36;
270        X """&SASEXE"" -icon
271        	-SYSIN ""&CODELIB\UTNWDW1.FinancialActivityAdjustment.sas""
272        	-LOG ""&LOGLIB\CDW.FinancialActivityAdjustment.LOG""
273        	-SYSPARM ""&TESTMSG|&RPTLIB|&CODELIB|&ODBCFILE|&DB"""; *37;
WARNING: The quoted string currently being processed has become more than 262 characters long.  
         You might have unbalanced quotation marks.
274        X """&SASEXE"" -icon
275        	-SYSIN ""&CODELIB\UTNWDW1.FS12NegAm.sas""
276        	-LOG ""&LOGLIB\CDW.FS12NegAm.LOG""
277        	-SYSPARM ""&TESTMSG|&RPTLIB|&CODELIB|&ODBCFILE|&DB"""; *38;
278        X """&SASEXE"" -icon
279        	-SYSIN ""&CODELIB\UTNWDW1.DF10DefermentLetter.sas""
280        	-LOG ""&LOGLIB\CDW.DF10DefermentLetter.LOG""
281        	-SYSPARM ""&TESTMSG|&RPTLIB|&CODELIB|&ODBCFILE|&DB"""; *39;
282        X """&SASEXE"" -icon
283        	-SYSIN ""&CODELIB\UTNWDW1.FB10ForbearanceLetter.sas""
284        	-LOG ""&LOGLIB\CDW.FB10ForbearanceLetter.LOG""
285        	-SYSPARM ""&TESTMSG|&RPTLIB|&CODELIB|&ODBCFILE|&DB"""; *40;
286        X """&SASEXE"" -icon
287        	-SYSIN ""&CODELIB\UTNWDW1.RS10RepaymentSummaryLetter.sas""
288        	-LOG ""&LOGLIB\CDW.RS10RepaymentSummaryLetter.LOG""
289        	-SYSPARM ""&TESTMSG|&RPTLIB|&CODELIB|&ODBCFILE|&DB"""; *41;
8                                         The SAS System        15:00 Wednesday, November 18, 2015

WARNING: The quoted string currently being processed has become more than 262 characters long.  
         You might have unbalanced quotation marks.
290        X """&SASEXE"" -icon
291        	-SYSIN ""&CODELIB\UTNWDW1.RS05IDRRepayment.sas""
292        	-LOG ""&LOGLIB\CDW.UTNWDW1.RS05IDRRepayment.LOG""
293        	-SYSPARM ""&TESTMSG|&RPTLIB|&CODELIB|&ODBCFILE|&DB"""; *42;
NOTE: SAS Institute Inc., SAS Campus Drive, Cary, NC USA 27513-2414
NOTE: The SAS System used:
      real time           7:01.57
      cpu time            1.04 seconds
      
